<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	<input type="text" id="input">
	<input type="text" id="input2">
</body>
<script>
	var inputa = document.getElementById('input');
	var inputb = document.getElementById('input2');

	function ajax(content) {
		console.log('ajax request' + content);
	}

	// inputa.addEventListener('keyup', function(e) {
	// 	ajax(e.target.value);
	// })


	//优化
	function debounce(fun, delay) {
		return function(args){
			let that = this;
			let _args = args;
			clearTimeout(timer);
			var timer = setTimeout(function() {
				fun.call(that, _args);
			}, delay)
		}
	}

	let debounceAjax = debounce(ajax, 500);


	inputb.addEventListener('keyup', function(e) {
		debounceAjax(e.target.value);
	})
</script>
</html>